!function(){"use strict";angular.module("maps",[]).config(["$routeProvider",function(a){a.when("/maps",{templateUrl:"maps/mainMenu.html"}).when("/maps/locations",{templateUrl:"maps/locations.html",controller:"mapsLocationController"}).when("/maps/map/:location",{templateUrl:"maps/map.html",controller:"mapsMapController"})}]).value("locationList",[{lat:37.767569,lon:-122.392223,zoom:17,name:"Mission Bay",marker:!1},{lat:37.763154,lon:-122.457941,zoom:17,name:"Parnassus",marker:!1},{lat:37.7846389,lon:-122.439604,zoom:18,name:"Mt. Zion",marker:!1},{lat:37.7555365,lon:-122.405038,zoom:17,name:"SFGH",marker:!1},{lat:37.764085,lon:-122.459684,zoom:17,name:"145 Irving",marker:!0},{lat:37.76873,lon:-122.395966,zoom:17,name:"1500 Owens",marker:!0},{lat:37.754719,lon:-122.4055,zoom:17,name:"2550 23rd St. (SFGH Bldg. 9)",marker:!0},{lat:37.763964,lon:-122.457349,zoom:17,name:"Ambulatory Care Building",marker:!0},{lat:37.767609,lon:-122.391534,zoom:17,name:"Byers Hall",marker:!0},{lat:37.776485,lon:-122.392202,zoom:17,name:"China Basin",marker:!0},{lat:37.762967,lon:-122.459089,zoom:17,name:"Clinical Sciences",marker:!0},{lat:37.762438,lon:-122.460851,zoom:17,name:"Dentistry",marker:!0},{lat:37.770071,lon:-122.389591,zoom:17,name:"Diller Cancer Research Building",marker:!0},{lat:37.762265,lon:-122.461473,zoom:17,name:"Faculty Alumni House",marker:!0},{lat:37.767609,lon:-122.391534,zoom:17,name:"Genentech Hall",marker:!0},{lat:37.767809,lon:-122.394109,zoom:17,name:"Gladstone Institute",marker:!0},{lat:37.763145,lon:-122.458197,zoom:17,name:"Health Sciences East",marker:!0},{lat:37.763145,lon:-122.458197,zoom:17,name:"Health Sciences West",marker:!0},{lat:37.763308,lon:-122.4591,zoom:17,name:"Kalmanovitz Library",marker:!0},{lat:37.760732,lon:-122.460725,zoom:17,name:"Kirkham Child Care",marker:!0},{lat:37.762135,lon:-122.460024,zoom:17,name:"Koret Vision",marker:!0},{lat:37.763617,lon:-122.456789,zoom:17,name:"Langley Porter Psychiatric Institute",marker:!0},{lat:37.786309,lon:-122.448313,zoom:17,name:"Laurel Heights",marker:!0},{lat:37.763154,lon:-122.457841,zoom:17,name:"Long Hospital",marker:!0},{lat:37.762889,lon:-122.460227,zoom:17,name:"Lucia Child Care",marker:!0},{lat:37.761002,lon:-122.46035,zoom:17,name:"Medical Research IV",marker:!0},{lat:37.763145,lon:-122.458197,zoom:17,name:"Medical Sciences",marker:!0},{lat:37.763671,lon:-122.458148,zoom:17,name:"Millberry Union",marker:!0},{lat:37.769015,lon:-122.389536,zoom:17,name:"Mission Bay Housing East",marker:!0},{lat:37.769683,lon:-122.389951,zoom:17,name:"Mission Bay Housing North",marker:!0},{lat:37.76893,lon:-122.39075,zoom:17,name:"Mission Bay Housing South",marker:!0},{lat:37.769495,lon:-122.390704,zoom:17,name:"Mission Bay Housing West",marker:!0},{lat:37.763154,lon:-122.457841,zoom:17,name:"Moffitt Hospital",marker:!0},{lat:37.762967,lon:-122.459189,zoom:17,name:"Nursing Building",marker:!0},{lat:37.764121,lon:-122.458674,zoom:17,name:"Parking Garage Entrance",marker:!0},{lat:37.760432,lon:-122.461453,zoom:17,name:"Proctor Foundation",marker:!0},{lat:37.763145,lon:-122.458197,zoom:17,name:"Regeneration Medicine Building",marker:!0},{lat:37.769212,lon:-122.391189,zoom:17,name:"Rock Hall",marker:!0},{lat:37.767903,lon:-122.393506,zoom:17,name:"Rutter Center",marker:!0},{lat:37.755482,lon:-122.4044,zoom:17,name:"San Francisco General Hospital",marker:!0},{lat:37.770427,lon:-122.390548,zoom:17,name:"Smith Cancer Research Building",marker:!0},{lat:37.7679,lon:-122.389356,zoom:17,name:"Third Street Parking Garage",marker:!0},{lat:37.762728,lon:-122.459943,zoom:17,name:"UC Hall",marker:!0},{lat:37.784654,lon:-122.439373,zoom:17,name:"UCSF Medical Center at Mt. Zion",marker:!0},{lat:37.769765,lon:-122.426147,zoom:12,name:"All Campuses",marker:!1}]).controller("mapsLocationController",["$scope","locationList",function(a,b){a.locationList=b}]).controller("mapsMapController",["$scope","$routeParams","$window","locationList",function(a,b,c,d){c.ucsfMapsCallback=function(){for(var a,c=b.location,e=0;e<d.length;e++){if(d[e].name===c){a=d[e];break}"All Campuses"===d[e].name&&(a=d[e])}var f="UCSF Custom Map",g=[{featureType:"administrative",elementType:"all",stylers:[{hue:"#dae6c3"},{saturation:22},{lightness:-5}]},{featureType:"landscape",elementType:"all",stylers:[{hue:"#dae6c3"},{saturation:16},{lightness:-7}]},{featureType:"road",elementType:"geometry",stylers:[{hue:"#ffffff"},{saturation:-100},{lightness:100}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"off"}]}],h=new google.maps.StyledMapType(g),i=new google.maps.ImageMapType({tileSize:new google.maps.Size(256,256),getTileUrl:function(a,b){return"http://apis.ucsf.edu/map/tile/"+b+"/"+a.x+"/"+a.y}}),j=new google.maps.Map(document.getElementById("map_canvas"),{center:new google.maps.LatLng(a.lat,a.lon),mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:a.zoom,mapTypeControl:!1});j.overlayMapTypes.insertAt(0,i);j.mapTypes.set(f,h);j.setMapTypeId(f);a.marker&&google.maps.event.addListener(new google.maps.Marker({position:new google.maps.LatLng(a.lat,a.lon),map:j,title:a.name}),"click",function(){var b=new google.maps.InfoWindow({content:"<div>"+a.name+'</div><div><a href="https://maps.google.com/maps?daddr='+a.lat+","+a.lon+'">Directions</a></div>',position:new google.maps.LatLng(a.lat,a.lon)});b.open(j)})};if(c.google&&c.google.maps)c.ucsfMapsCallback();else{var e=document.createElement("script");e.type="text/javascript";e.src="http://maps.googleapis.com/maps/api/js?&sensor=false&callback=ucsfMapsCallback";document.body.appendChild(e)}}])}();